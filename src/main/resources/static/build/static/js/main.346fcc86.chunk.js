(this.webpackJsonpminesweeper=this.webpackJsonpminesweeper||[]).push([[0],{38:function(e,t,n){e.exports=n(67)},43:function(e,t,n){},64:function(e,t,n){},67:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(31),u=n.n(c),l=(n(43),n(11)),i=n(6),o=n.n(i),s=n(9),m=n(8),f=n(70),d=n(68),v=n(69),p=n(71),g=function(e){var t=e.text,n=e.onClick;return a.a.createElement("input",{className:"button m-1",type:"button",value:t,onClick:n})},E=function(e){var t=e.handleCreateGame;return a.a.createElement(p.a,{className:"justify-content-center"},a.a.createElement(p.a.Item,null,a.a.createElement(g,{text:"Easy 9x9",onClick:function(){return t(9,9,10,"easy")}})),a.a.createElement(p.a.Item,null,a.a.createElement(g,{text:"Medium 16x16",onClick:function(){return t(16,16,40,"medium")}})),a.a.createElement(p.a.Item,null,a.a.createElement(g,{text:"Hard 16x30",onClick:function(){return t(16,30,99,"hard")}})))},h=n(20),O=function(e){var t=e.tile,n=e.handleOpen,r=e.handleFlag;return a.a.createElement("div",{className:"gridItem",style:{color:"".concat(function(){switch(t.value){case 0:return"whitesmoke";case 1:return"green";case 2:return"orange";case 3:return"red";case 4:return"purple";default:return"black"}}()),backgroundColor:t.isOpen?"whitesmoke":"grey"},onClick:n,onContextMenu:function(e){return r(e)}},t.isOpen&&0!==t.value?t.value:"")},b=function(e){var t=e.tile,n=e.open,r=e.toggleFlag,c=function(e){e.preventDefault(),t.isOpen||r()};return t.isOpen&&t.isMine?a.a.createElement(h.a,null):t.isFlagged?a.a.createElement(h.b,{className:"gridItem",onContextMenu:function(e){return c(e)},style:{color:"red",backgroundColor:"grey"}}):a.a.createElement(O,{tile:t,handleFlag:c,handleOpen:function(e){n()}})},y=function(e,t){return Array.from({length:e},(function(){return Array.from({length:t},(function(){return k()}))}))},k=function(){return{value:0,isOpen:!1,isFlagged:!1,isMine:!1}},x=function(e,t,n,r){for(var a=n;a>0;){var c=j(e),u=j(t);W(c,u,r)||(r[c][u].isMine=!0,w(c,u,r),a-=1)}},j=function(e){return Math.floor(Math.random()*e)},w=function(e,t,n){try{C(e)&&C(t)&&(n[e-1][t-1].value+=1),I(e,n)&&M(t,n)&&(n[e+1][t+1].value+=1),C(e)&&M(t,n)&&(n[e-1][t+1].value+=1),I(e,n)&&C(t)&&(n[e+1][t-1].value+=1),C(e)&&(n[e-1][t].value+=1),I(e,n)&&(n[e+1][t].value+=1),M(t,n)&&(n[e][t+1].value+=1),C(t)&&(n[e][t-1].value+=1)}catch(r){console.log(r)}},C=function(e){return e>0},I=function(e,t){return e<t.length-1},M=function(e,t){return e<t[0].length-1},N=function(e,t,n){return 0===n[e][t].value&&!1===n[e][t].isMine},F=function(e,t,n){return e<0||t<0||e>n.length-1||t>n[0].length-1},S=function(e){return 0===e.length},T=function(e){return!e.isOpen&&!e.isMine},W=function(e,t,n){return n[e][t].isMine},A=function(e){var t=e.board,n=e.isOver,r=e.setGameOver,c=e.updateBoard;if(!t)return null;var u=function(e,a){if(!n){if(W(e,a,t))return t[e][a].isOpen=!0,void r();!function e(t,n,r){F(t,n,r)||r[t][n].isOpen||(r[t][n].isOpen=!0,N(t,n,r)&&(e(t-1,n-1,r),e(t+1,n+1,r),e(t-1,n+1,r),e(t+1,n-1,r),e(t,n-1,r),e(t-1,n,r),e(t,n+1,r),e(t+1,n,r)))}(e,a,t),c(t)}},l={display:"grid",gridTemplateColumns:"repeat(".concat(t[0].length,", 1.5rem)"),gridTemplateRows:"repeat(".concat(t.length,", 1.5rem)"),alignItems:"center",textAlign:"center",justifyItems:"center",justifyContent:"center"};return a.a.createElement("div",{style:l},t.map((function(e,r){return e.map((function(e,l){return a.a.createElement(b,{key:l,tile:e,open:function(){return u(r,l)},toggleFlag:function(){return function(e,r){n||(!function(e,t,n){n[e][t].isFlagged=!n[e][t].isFlagged}(e,r,t),c(t))}(r,l)}})}))})))},G=function(e){var t=e.game,n=e.setGame,r=e.handleIsWon;if(!t)return null;var c=function(e){n(Object(l.a)({},t,{board:e,isOn:!0})),function(e){var t=e.board.filter((function(e){return!S(e.filter(T))}));return S(t)}(t)&&r()};return a.a.createElement(d.a,null,a.a.createElement(v.a,null,a.a.createElement(A,{board:t.board,setGameOver:function(){n(Object(l.a)({},t,{isOver:!0,isOn:!1}))},updateBoard:function(e){return c(e)},isOver:t.isOver})))},B=n(18),H=n.n(B),D={findAll:function(){var e=Object(s.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.a.get("".concat("/results"));case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),create:function(){var e=Object(s.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.a.post("".concat("/results"),t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},J=(n(64),n(72)),R=n(74),Y=function(e){var t=e.listItems,n=e.title,c=Object(r.useState)(5),u=Object(m.a)(c,2),l=u[0],i=u[1],o=t.sort((function(e,t){return e.time-t.time>0?1:-1})).slice(0,l);return a.a.createElement(J.a,{className:"mb-2 mt-2"},a.a.createElement(J.a.Header,null,a.a.createElement(J.a.Title,null,n)),a.a.createElement(J.a.Body,null,0===t.length?"no results yet":a.a.createElement(R.a,{variant:"flush"},o.map((function(e){return a.a.createElement(R.a.Item,{key:e.id},e.nickname," ",e.time)})),l<t.length&&a.a.createElement(R.a.Item,{action:!0,onClick:function(){return i(l+5)}},"Show more"))))},q=function(e){var t=e.results;return a.a.createElement(a.a.Fragment,null,a.a.createElement("h3",null,"Best Results"),a.a.createElement(Y,{title:"Easy",listItems:t.filter((function(e){return"easy"===e.difficulty}))}),a.a.createElement(Y,{title:"Medium",listItems:t.filter((function(e){return"medium"===e.difficulty}))}),a.a.createElement(Y,{title:"Hard",listItems:t.filter((function(e){return"hard"===e.difficulty}))}))},z=n(73),K=function(e){var t=e.time,n=e.setTime;return Object(r.useEffect)((function(){var e=setInterval((function(){return n(t+1)}),1e3);return function(){return clearInterval(e)}}),[t]),a.a.createElement(a.a.Fragment,null,t)},L=function(e){var t=e.game,n=e.handleNicknameChange,r=e.time,c=e.setTime;return a.a.createElement(d.a,{className:"justify-content-center mt-3"},a.a.createElement(v.a,{xs:12,sm:4},a.a.createElement(z.a,{className:"mb-2 mt-2",placeholder:"Your nickname",onChange:n}),a.a.createElement("p",{className:"float-left"},"Mines: ",t?t.mines:0),a.a.createElement("p",{className:"float-right"},"Seconds: ",t&&t.isOn?a.a.createElement(K,{time:r,setTime:c}):r)))},P=function(e){var t=e.game;if(!t)return null;var n={minHeight:"35px",width:"100%",color:t.isWon?"green":"red"};return a.a.createElement(d.a,{style:n},a.a.createElement(v.a,null,t.isOver&&a.a.createElement("h3",null,"Death by mine!"),t.isWon&&a.a.createElement("h3",null,"You Won!")))},Q=function(){var e=Object(r.useState)(null),t=Object(m.a)(e,2),n=t[0],c=t[1],u=Object(r.useState)(""),i=Object(m.a)(u,2),p=i[0],g=i[1],h=Object(r.useState)(0),O=Object(m.a)(h,2),b=O[0],k=O[1],j=Object(r.useState)([]),w=Object(m.a)(j,2),C=w[0],I=w[1];Object(r.useEffect)((function(){M()}),[]);var M=function(){var e=Object(s.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D.findAll();case 3:t=e.sent,I(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),N=function(e,t,n,r){var a={board:function(e,t,n){var r=y(e,t);return x(e,t,n,r),r}(e,t,n),mines:n,difficulty:r,isOver:!1,isWon:!1,isOn:!1};k(0),c(a)},F=function(){var e=Object(s.a)(o.a.mark((function e(){var t,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c(Object(l.a)({},n,{isWon:!0,isOn:!1})),t={nickname:""===p?"Anonymous":p,difficulty:n.difficulty,time:b},e.next=5,D.create(t);case 5:r=e.sent,I(C.concat(r)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),S=function(e){return c(e)},T=function(e){return k(e)};return a.a.createElement(f.a,{fluid:!0,className:"text-center"},a.a.createElement(d.a,{className:"banner"},a.a.createElement(v.a,null,a.a.createElement("h1",null,"Minesweeper"))),a.a.createElement(d.a,null,a.a.createElement(v.a,{xs:12,sm:3},a.a.createElement(q,{results:C})),a.a.createElement(v.a,{xs:12,sm:9},a.a.createElement(E,{handleCreateGame:function(e,t,n,r){return N(e,t,n,r)}}),a.a.createElement(L,{game:n,time:b,setTime:function(e){return T(e)},handleNicknameChange:function(e){return g(e.target.value)}}),a.a.createElement(P,{game:n}),a.a.createElement(G,{game:n,setGame:function(e){return S(e)},handleIsWon:F}))))};u.a.render(a.a.createElement(Q,null),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.346fcc86.chunk.js.map