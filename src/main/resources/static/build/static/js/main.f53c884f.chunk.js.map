{"version":3,"sources":["components/Button.js","components/OptionsPanel.js","components/ClosedTile.js","utils/minesweeperUtils.js","components/Number.js","components/OpenTile.js","components/Board.js","components/Game.js","services/minesweeperService.js","components/ResultList.js","components/SidePanel.js","components/Timer.js","components/GameInfoBar.js","components/Notification.js","components/SaveResultDialog.js","App.js","index.js"],"names":["Button","text","onClick","className","type","value","OptionsPanel","handleCreateGame","Nav","Item","ClosedTile","tile","open","toggleFlag","handleFlag","event","preventDefault","isFlagged","onContextMenu","style","color","backgroundColor","initializeArray","rows","cols","Array","from","length","initialTile","isOpen","isMine","initializeMines","mines","board","minesLeft","row","generateIndex","col","updateAdjacentMinesCount","index","Math","floor","random","i","j","incrementValueIfNotOutOfBounds","indexOutOfRange","cascadeEmptyTiles","isEmpty","openTileAndIsMine","isFlag","boardReducer","sum","currentRow","filter","isClosedNonMinedTile","Number","handleClick","setColor","e","OpenTile","openAdjacentTiles","Board","gameOver","handleSetGameOver","handleUpdateGame","flags","notEnoughFlags","openAdjacentTilesAndIsMine","gridStyle","display","gridTemplateColumns","gridTemplateRows","alignItems","textAlign","justifyItems","justifyContent","map","key","openTile","Game","game","handleSetGame","handleShowSaveResultDialog","handleShowNotification","isOn","reduce","isWon","Row","Col","isOver","b","findAll","a","axios","get","res","data","create","result","post","ResultList","listItems","title","useState","visible","setVisible","itemsToShow","sort","time","slice","Card","Header","Title","Body","ListGroup","variant","item","id","nickname","Badge","action","SidePanel","results","r","difficulty","Timer","setTime","useEffect","timer","setInterval","clearInterval","GameInfoBar","xs","sm","Notification","notification","message","isError","SaveResultDialog","show","handleClose","handleNicknameChange","handleSaveResult","Modal","onHide","centered","Form","Label","Control","placeholder","onChange","Footer","App","setNotification","showSaveResultDialog","setShowSaveResultDialog","setGame","setNickname","setResults","handleFindResults","setTimeout","service","console","log","newGame","newBoard","createBoardOf","handleCloseSaveResultDialog","savedResult","concat","handleSetTime","Container","fluid","target","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.f53c884f.chunk.js","sourcesContent":["import React from 'react'\n\nconst Button = ({ text, onClick }) => {\n  return (\n    <input\n      className='button m-1'\n      type='button'\n      value={text}\n      onClick={onClick}\n    />\n  )\n}\n\nexport default Button","import React from 'react'\nimport { Nav } from 'react-bootstrap'\nimport Button from './Button'\n\nconst OptionsPanel = ({ handleCreateGame }) =>\n  <Nav className='justify-content-center mt-4'>\n    <Nav.Item>\n      <Button\n        text='Easy 9x9'\n        onClick={() => handleCreateGame(9, 9, 10, 'easy')}\n      />\n    </Nav.Item>\n    <Nav.Item>\n      <Button\n        text='Medium 16x16'\n        onClick={() => handleCreateGame(16, 16, 40, 'medium')}\n      />\n    </Nav.Item>\n    <Nav.Item>\n      <Button\n        text='Hard 16x30'\n        onClick={() => handleCreateGame(16, 30, 99, 'hard')}\n      />\n    </Nav.Item>\n  </Nav>\n\nexport default OptionsPanel","import React from 'react'\nimport { FaFlag } from 'react-icons/fa'\n\nconst ClosedTile = ({ tile, open, toggleFlag }) => {\n\n  const handleFlag = (event) => {\n    event.preventDefault()\n    toggleFlag()\n  }\n\n  if (tile.isFlagged) {\n    return (\n      <FaFlag\n        className='gridItem'\n        onContextMenu={handleFlag}\n        style={{ color: 'red', backgroundColor: 'grey' }}\n      />\n    )\n  }\n\n  return (\n    <div\n      className='gridItem'\n      onClick={open}\n      onContextMenu={handleFlag}\n    >\n    </div>\n  )\n}\n\nexport default ClosedTile","\nexport const createBoardOf = (rows, cols, mines) => {\n  const newBoard = initializeArray(rows, cols)\n  initializeMines(rows, cols, mines, newBoard)\n  return newBoard\n}\n\nconst initializeArray = (rows, cols) =>\n  Array.from({ length: rows },\n    () => Array.from({ length: cols },\n      () =>  initialTile() ))\n\nconst initialTile = () => {\n  return {\n    value: 0,\n    isOpen: false,\n    isFlagged: false,\n    isMine: false\n  }\n}\n\nconst initializeMines = (rows, cols, mines, board) => {\n  let minesLeft = mines\n\n  while (minesLeft > 0) {\n    let row = generateIndex(rows)\n    let col = generateIndex(cols)\n\n    if (!isMine(row, col, board)) {\n      board[row][col].isMine = true\n      updateAdjacentMinesCount(row, col, board)\n      minesLeft -= 1\n    }\n  }\n}\n\nconst generateIndex = index => Math.floor(Math.random() * index)\n\nconst updateAdjacentMinesCount = (i, j, board) => {\n  incrementValueIfNotOutOfBounds(i - 1, j - 1, board)\n  incrementValueIfNotOutOfBounds(i + 1, j + 1, board)\n  incrementValueIfNotOutOfBounds(i - 1, j + 1, board)\n  incrementValueIfNotOutOfBounds(i + 1, j - 1, board)\n\n  incrementValueIfNotOutOfBounds(i - 1, j, board)\n  incrementValueIfNotOutOfBounds(i + 1, j, board)\n  incrementValueIfNotOutOfBounds(i, j - 1, board)\n  incrementValueIfNotOutOfBounds(i, j + 1, board)\n}\n\nconst incrementValueIfNotOutOfBounds = (row, col, board) => {\n  if (!indexOutOfRange(row, col, board)) {\n    board[row][col].value += 1\n  }\n}\n\nexport const notEnoughFlags = (i, j, board) => {\n  let flags = 0\n\n  for (let row = i - 1; row <= i + 1; row++) {\n    for (let col = j - 1; col <= j + 1; col++) {\n      if (!indexOutOfRange(row, col, board) && isFlag(row, col, board)) {\n        flags += 1\n      }\n    }\n  }\n\n  if (flags < board[i][j].value) {\n    return true\n  }\n\n  return false\n}\n\nexport const cascadeEmptyTiles = (row, col, board) => {\n  if (indexOutOfRange(row, col, board) || board[row][col].isOpen || isMine(row, col, board)) {\n    return\n  }\n\n  board[row][col].isOpen = true\n\n  if (isEmpty(row, col, board)) {\n    cascadeEmptyTiles(row - 1, col - 1, board)\n    cascadeEmptyTiles(row + 1, col + 1, board)\n    cascadeEmptyTiles(row - 1, col + 1, board)\n    cascadeEmptyTiles(row + 1, col - 1, board)\n\n    cascadeEmptyTiles(row, col - 1, board)\n    cascadeEmptyTiles(row - 1, col, board)\n    cascadeEmptyTiles(row, col + 1, board)\n    cascadeEmptyTiles(row + 1, col, board)\n  }\n}\n\nexport const openAdjacentTilesAndIsMine = (row, col, board) => {\n  for (let i = row - 1; i <= row + 1; i++) {\n    for (let j = col - 1; j <= col + 1; j++) {\n      if (openTileAndIsMine(i, j, board)) {\n        return true\n      }\n    }\n  }\n\n  return false\n}\n\nconst openTileAndIsMine = (row, col, board) => {\n  if (!indexOutOfRange(row, col, board) && !isFlag(row, col, board)) {\n\n    if (isMine(row, col, board)) {\n      board[row][col].isOpen = true\n      return true\n    }\n  }\n\n  cascadeEmptyTiles(row, col, board)\n  return false\n}\n\nexport const indexOutOfRange = (row, col, board) =>\n  row < 0 || col < 0 || row > board.length-1 || col > board[0].length-1\n\nexport const isWon = game => {\n  return 0 === game.board.reduce(boardReducer, 0)\n}\n\nconst boardReducer = (sum, currentRow) =>\n  sum + currentRow.filter(isClosedNonMinedTile).length\n\nconst isClosedNonMinedTile = tile => !tile.isOpen && !tile.isMine\n\nconst isEmpty = (row, col, board) => board[row][col].value === 0\nexport const isFlag = (row, col, board) => board[row][col].isFlagged\nexport const toggleFlag = (row, col, board) => board[row][col].isFlagged = !board[row][col].isFlagged\nexport const isMine = (row, col, board) => board[row][col].isMine\n","import React from 'react'\n\nconst Number = ({ value, handleClick }) => {\n\n  const setColor = () => {\n    switch(value) {\n    case 0:\n      return 'whitesmoke'\n    case 1:\n      return 'green'\n    case 2:\n      return 'orange'\n    case 3:\n      return 'red'\n    case 4:\n      return 'purple'\n    default:\n      return 'black'\n    }\n  }\n\n  return (\n    <div\n      className='gridItem'\n      style={{ color: `${setColor()}`, backgroundColor: 'whitesmoke' }}\n      onClick={handleClick}\n      onContextMenu={(e) => e.preventDefault()}\n    >\n      {value === 0 ? '' : value}\n    </div>\n  )\n}\n\nexport default Number","import React from 'react'\nimport { FaBomb } from 'react-icons/fa'\nimport Number from './Number'\n\nconst OpenTile = ({ tile, openAdjacentTiles }) => {\n\n  if (tile.isMine) {\n    return (\n      <FaBomb />\n    )\n  }\n\n  return (\n    <Number\n      value={tile.value}\n      handleClick={openAdjacentTiles}\n    />\n  )\n}\n\nexport default OpenTile","import React from 'react'\nimport ClosedTile from './ClosedTile'\nimport { cascadeEmptyTiles, openAdjacentTilesAndIsMine, isFlag, isMine, toggleFlag, notEnoughFlags } from '../utils/minesweeperUtils'\nimport OpenTile from './OpenTile'\n\nconst Board = ({ board, gameOver, handleSetGameOver, handleUpdateGame }) => {\n  if (!board) {\n    return null\n  }\n\n  const openTile = (row, col) => {\n    if (gameOver() || isFlag(row, col, board)) {\n      return\n    }\n\n    if (isMine(row, col, board) ) {\n      board[row][col].isOpen = true\n      handleSetGameOver()\n      return\n    }\n\n    cascadeEmptyTiles(row, col, board)\n    handleUpdateGame(board)\n  }\n\n  const openAdjacentTiles = (row, col) => {\n    if (gameOver() || notEnoughFlags(row, col, board)) {\n      return\n    }\n\n    if (openAdjacentTilesAndIsMine(row, col, board)) {\n      handleSetGameOver()\n      return\n    }\n\n    handleUpdateGame(board)\n  }\n\n  const handleFlag = (row, col) => {\n    if (gameOver()) {\n      return\n    }\n    toggleFlag(row, col, board)\n    handleUpdateGame(board)\n  }\n\n  const gridStyle = {\n    display: 'grid',\n    gridTemplateColumns: `repeat(${board[0].length}, 1.5rem)`,\n    gridTemplateRows: `repeat(${board.length}, 1.5rem)`,\n    alignItems: 'center',\n    textAlign: 'center',\n    justifyItems: 'center',\n    justifyContent: 'center'\n  }\n\n  return (\n    <div style={gridStyle} >\n      {board.map((row, i) =>\n        row.map((tile, j) =>\n          tile.isOpen ?\n            <OpenTile\n              key={j}\n              tile={tile}\n              openAdjacentTiles={() => openAdjacentTiles(i, j)}\n            />\n            :\n            <ClosedTile\n              key={j}\n              tile={tile}\n              open={() => openTile(i, j)}\n              toggleFlag={() => handleFlag(i, j)}\n            />\n        )\n      )}\n    </div>\n  )\n}\n\nexport default Board","import React from 'react'\nimport { Row, Col } from 'react-bootstrap'\nimport Board from './Board'\nimport { isWon } from '../utils/minesweeperUtils'\n\nconst Game = ({ game, handleSetGame, handleShowSaveResultDialog , handleShowNotification }) => {\n  if (!game) {\n    return null\n  }\n\n  const gameOver = () => game.isOver || game.isWon\n\n  const handleSetGameOver = () => {\n    handleSetGame({ ...game, isOver: true, isOn: false })\n    handleShowNotification('Death by mine', true)\n  }\n\n  const handleUpdateGame = board => {\n    handleSetGame({ ...game, board, isOn: true })\n\n    if (isWon(game)) {\n      handleSetGame({ ...game, isWon: true, isOn: false })\n      handleShowSaveResultDialog()\n    }\n  }\n\n  return (\n    <Row>\n      <Col>\n        <Board\n          board={game.board}\n          handleSetGameOver={handleSetGameOver}\n          handleUpdateGame={(b) => handleUpdateGame(b)}\n          gameOver={gameOver}\n        />\n      </Col>\n    </Row>\n  )\n}\n\nexport default Game","import axios from 'axios'\n\nconst basePath = '/results'\n\nconst findAll = async () => {\n  const res = await axios.get(`${basePath}`)\n  return res.data\n}\n\nconst create = async result => {\n  const res = await axios.post(`${basePath}`, result)\n  return res.data\n}\n\nexport default {\n  findAll,\n  create\n}","import React, { useState } from 'react'\nimport { ListGroup, Card, Badge } from 'react-bootstrap'\n\nconst ResultList = ({ listItems, title }) => {\n  const [visible, setVisible] = useState(5)\n\n  const handleSetVisible = () => setVisible(visible + 5)\n\n  const byTime = (a, b) => a.time - b.time > 0 ? 1 : -1\n\n  const itemsToShow = listItems.sort(byTime).slice(0, visible)\n\n  return (\n    <Card className='mb-2 mt-2'>\n      <Card.Header>\n        <Card.Title className='text-center'>\n          {title}\n        </Card.Title>\n      </Card.Header>\n      <Card.Body>\n        {listItems.length === 0\n          ? 'no results yet'\n          :\n          <ListGroup variant='flush'>\n            {itemsToShow.map(item =>\n              <ListGroup.Item key={item.id}>\n                {item.nickname} <Badge variant='warning' className='float-right'>{item.time}</Badge>\n              </ListGroup.Item>\n            )}\n\n            {visible < listItems.length &&\n            <ListGroup.Item action onClick={handleSetVisible}>\n              Show more\n            </ListGroup.Item>\n            }\n          </ListGroup>\n        }\n      </Card.Body>\n    </Card>\n  )\n}\n\n\nexport default ResultList","import React from 'react'\nimport ResultList from './ResultList'\n\nconst SidePanel = ({ results }) =>\n  <>\n    <h3 className='text-center mt-4'>Best Results</h3>\n\n    <ResultList\n      title='Easy'\n      listItems={results.filter(r => r.difficulty === 'easy')}\n    />\n\n    <ResultList\n      title='Medium'\n      listItems={results.filter(r => r.difficulty === 'medium')}\n    />\n\n    <ResultList\n      title='Hard'\n      listItems={results.filter(r => r.difficulty === 'hard')}\n    />\n  </>\n\nexport default SidePanel","import React, { useEffect } from 'react'\n\nconst Timer = ({ time, setTime }) => {\n\n  useEffect(() => {\n    const timer = setInterval(() => setTime(time + 1), 1000)\n    return () => clearInterval(timer)\n  }, [time])\n\n  return (\n    <>{time}</>\n  )\n}\n\nexport default Timer\n","import React from 'react'\nimport { Row, Col } from 'react-bootstrap'\nimport Timer from './Timer'\n\nconst GameInfoBar = ({ game, time, setTime }) => {\n\n  const handleShowTimer = () => game && game.isOn\n    ?\n    <Timer\n      time={time}\n      setTime={setTime}\n    />\n    : time\n\n  return (\n    <Row className='justify-content-center mt-3'>\n      <Col xs={12} sm={4} >\n        <h6 className='float-left'>\n          Mines: {game ? game.mines : 0}\n        </h6>\n\n        <h6 className='float-right'>\n          Seconds: {handleShowTimer()}\n        </h6>\n\n      </Col>\n    </Row>\n  )\n}\n\nexport default GameInfoBar\n","import React from 'react'\nimport { Row, Col } from 'react-bootstrap'\n\nconst Notification = ({ notification }) => {\n  if (!notification.message) {\n    return null\n  }\n\n  return (\n    <Row>\n      <Col className='notification' style={{ backgroundColor: notification.isError ? 'red' : 'green' }}>\n        <h2>{notification.message}</h2>\n      </Col>\n    </Row>\n  )\n}\n\nexport default Notification","import React from 'react'\nimport { Modal, Form } from 'react-bootstrap'\nimport Button from './Button'\n\nconst SaveResultDialog = ({\n  show,\n  handleClose,\n  handleNicknameChange,\n  handleSaveResult,\n  time\n}) => {\n\n  return (\n    <Modal show={show} onHide={handleClose} centered>\n      <Modal.Header>\n        <Modal.Title>\n          Whohoo - you won!\n        </Modal.Title>\n      </Modal.Header>\n      <Modal.Body>\n        <h6>Your time was {time} seconds (not good, not bad)</h6>\n        <Form.Label>\n          Give a nickname, if you want to save your result:\n        </Form.Label>\n        <Form.Control\n          className='mb-2 mt-2'\n          placeholder='Your nickname'\n          onChange={handleNicknameChange}\n        />\n      </Modal.Body>\n      <Modal.Footer>\n        <Button\n          text='Save result'\n          onClick={handleSaveResult}\n        />\n        <Button\n          text='No thanks'\n          onClick={handleClose}\n        />\n      </Modal.Footer>\n    </Modal>\n  )\n}\n\nexport default SaveResultDialog","import React, { useState, useEffect } from 'react'\nimport { Container, Row, Col } from 'react-bootstrap'\nimport OptionsPanel from './components/OptionsPanel'\nimport Game from './components/Game'\nimport { createBoardOf } from './utils/minesweeperUtils'\nimport service from './services/minesweeperService'\nimport SidePanel from './components/SidePanel'\nimport GameInfoBar from './components/GameInfoBar'\nimport Notification from './components/Notification'\nimport SaveResultDialog from './components/SaveResultDialog'\n\nimport './App.css'\n\nconst App = () => {\n  const [notification, setNotification] = useState({ message: '', isError: false })\n  const [showSaveResultDialog, setShowSaveResultDialog] = useState(false)\n  const [game, setGame] = useState(null)\n  const [nickname, setNickname] = useState('')\n  const [time, setTime] = useState(0)\n  const [results, setResults] = useState([])\n\n  useEffect(() => {\n    handleFindResults()\n  }, [])\n\n  const handleShowNotification = (message, isError) => {\n    setNotification({ message, isError })\n\n    setTimeout(() => {\n      setNotification({ message: '', isError: false })\n    }, 3000)\n  }\n\n  const handleFindResults = async () => {\n    try {\n      const res = await service.findAll()\n      setResults(res)\n    } catch (exception) {\n      console.log(exception)\n      handleShowNotification('Error when Fetching results, is server up?', true)\n    }\n  }\n\n  const handleCreateGame = (rows, cols, mines, difficulty) => {\n    const board = createBoardOf(rows, cols, mines)\n\n    const newGame = {\n      board,\n      mines,\n      difficulty,\n      isOver: false,\n      isWon: false,\n      isOn: false\n    }\n\n    setTime(0)\n    setGame(newGame)\n  }\n\n  const handleSaveResult = async () => {\n    handleCloseSaveResultDialog()\n\n    const result = {\n      nickname: nickname === '' ? 'Anonymous' : nickname,\n      difficulty: game.difficulty,\n      time\n    }\n\n    try {\n      const savedResult = await service.create(result)\n      setResults(results.concat(savedResult))\n\n    } catch (exception) {\n      console.log(exception)\n      handleShowNotification('Error when saving result, is server up?', true)\n    }\n  }\n\n  const handleSetGame = game => setGame(game)\n  const handleSetTime = time => setTime(time)\n  const handleNicknameChange = event => setNickname(event.target.value)\n  const handleCloseSaveResultDialog = () => setShowSaveResultDialog(false)\n  const handleShowSaveResultDialog = () => setShowSaveResultDialog(true)\n\n  return (\n    <Container fluid>\n      <Row className='banner'>\n        <Col>\n          <h1 className='text-center'>Minesweeper</h1>\n        </Col>\n      </Row>\n      <Notification\n        notification={notification}\n      />\n      <SaveResultDialog\n        show={showSaveResultDialog}\n        handleNicknameChange={handleNicknameChange}\n        handleSaveResult={handleSaveResult}\n        handleClose={handleCloseSaveResultDialog}\n        time={time}\n      />\n      <Row>\n        <Col xs={12} sm={3} style={{ backgroundColor: 'antiquewhite' }}>\n          <SidePanel\n            results={results}\n          />\n        </Col>\n        <Col xs={12} sm={9} >\n          <OptionsPanel\n            handleCreateGame={(rows, cols, mines, difficulty) =>\n              handleCreateGame(rows, cols, mines, difficulty)\n            }\n          />\n          <GameInfoBar\n            game={game}\n            time={time}\n            setTime={(time) => handleSetTime(time)}\n          />\n          <Game\n            game={game}\n            handleSetGame={handleSetGame}\n            handleShowSaveResultDialog={handleShowSaveResultDialog}\n            handleShowNotification={handleShowNotification}\n          />\n        </Col>\n      </Row>\n    </Container>\n  )\n}\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nimport './index.css'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}